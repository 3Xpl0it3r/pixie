# Generated file: bazel run //templates/skaffold:skaffoldtemplate
# DO NOT EDIT
apiVersion: skaffold/v1alpha5
kind: Config
build:
  artifacts:
  - image: gcr.io/pl-dev-infra/api_server_image
    context: .
    bazel:
      target: //services/api:api_server_image.tar
  - image: gcr.io/pl-dev-infra/auth_server_image
    context: .
    bazel:
      target: //services/auth:auth_server_image.tar
  - image: gcr.io/pl-dev-infra/proxy
    context: .
    bazel:
      target: {{.BazelServicesProxyTarget}}
  - image: gcr.io/pl-dev-infra/gateway_server_image
    context: .
    bazel:
      target: //services/gateway:gateway_server_image.tar
  local:
    push: {{.PushArtifacts}}
deploy:
  kubectl:
    manifests:
    - {{.BuildDir}}/services/api/service_{{.Deployment}}.yaml
    - {{.BuildDir}}/services/auth/service_{{.Deployment}}.yaml
    - {{.BuildDir}}/services/proxy/service_{{.Deployment}}.yaml
    - {{.BuildDir}}/services/gateway/service_{{.Deployment}}.yaml
