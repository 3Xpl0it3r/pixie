---
run:
  # Tell golangci-lint to not acquire a lock because
  # arcanist will run multiple instances in parallel.
  allow-parallel-runners: true
  # arcanist runs many of these in parallel causing
  # CPU contention and longer runtimes.
  timeout: 3m

output:
  sort-results: true

issues:
  max-issues-per-linter: 0
  max-same-issues: 0

linters:
  enable:
  - asciicheck
  - deadcode
  - errcheck
  - gosimple
  - ineffassign
  - makezero
  - misspell
  - nakedret
  - nolintlint
  - predeclared
  - staticcheck
  - structcheck
  - typecheck
  - unused
  - varcheck
  - wastedassign
  - whitespace
  disable:
  # We run goimports which includes gofmt.
  - gofmt
  # The following linters are run separately by arcanist at the moment.
  # This is because we have autofix hooks for these linters.
  - goimports
  - golint
  - govet
  disable-all: false

linters-settings:
  errcheck:
    ignore: github.com/spf13/viper:BindPFlag
  goimports:
    local-prefixes: pixielabs.ai
  nakedret:
    max-func-lines: 0
